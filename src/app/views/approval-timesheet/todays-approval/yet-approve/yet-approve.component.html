<div class="container-fluid webView">
  
  <div class="bg">
    <div class="row">
      <div class="col px-0">
        <table class="table table-hover table-list">
          <thead>
            <tr>
              <th scope="col">S.No</th>
              <th scope="col" class="text-center">Created Date</th>
              <th scope="col" class="text-center">Employee</th>
              <th scope="col" class="text-center">Task</th>
              <th scope="col" class="text-center">Time</th>
              <th scope="col" class="text-center">Action</th>
            </tr>
          </thead>
          <tbody>
           
                <!-- "id": 4,
                "client": 1,
                "project": 6,
                "description": "",
                "employee_first_name": "anandhi",
                "employee_last_name": "c",
                "manager_first_name": "Nithesh",
                "manager_last_name": "Hegde",
                "reporting_manager": 2,
                "created_by": 235,
                "status": "Pending",
                "timesheet_date": "2024-10-22",
                "created_datetime": "2024-10-22T06:16:58.139005Z",
                "updated_datetime": "2024-10-22T10:46:41.358212Z",
                "task_list": [
                    {
                        "task_id": 14,
                        "task_name": "create project",
                        "hours_left": "2 hr",
                        "hours_to_complete": "4 hr"
                    }
                ] -->
           
            <ng-container *ngIf="(yetToApproveAll) as result">
              <tr *ngFor="let item of result|paginate:paginationConfig;let i = index">
                <td>{{getContinuousIndex(i)}}</td>
                <td class="text-center">{{item.created_datetime | date :'dd/MM/YYYY'}}</td>
                <td class="text-center">{{item.employee_first_name ?item.employee_first_name :'NA' |titlecase}}</td>
               
                <td class="text-center" *ngIf="item.task_list.length">
                  <div *ngFor="let task of item.task_list; let j = index">
                    <div>
                      {{ task?.task_name || 'NA' }} <br/>
                    </div>
                  </div>
                </td>
                <td *ngIf="item.task_list.length === 0">
                  {{'NA'}}
                </td>
                <td class="text-center" *ngIf="item.task_list.length">
                  <div *ngFor="let task of item.task_list; let j = index">
                    <div>
                      {{ task?.hours_to_complete || 'NA' }}
                    </div>
                  </div>
                </td>
                <td *ngIf="item.task_list.length === 0">
                  {{'NA'}}
                </td>
                
                <td class="text-center">
                  <ng-container>
                    <span>
                     
                        <img src="../../../../../assets/images/Delete.svg" class="icon-image" container="body" ngbTooltip="Delete" (click)="open(item)"/>
                    </span>
                    <span>
                      <img src="../../../../../assets/images/tick.svg" class="icon-image" container="body" ngbTooltip="Approve" (click)="openDialogue(item.id,'APPROVED')"/>
                    </span>
                    <span>
                      <img src="../../../../../assets/images/Close.svg" class="icon-image"  container="body" ngbTooltip="Reject"  (click)="openDialogue(item.id,'DECLINED')"/>
                    </span>
                  </ng-container>
                </td>
              </tr>

          
              <div style="position: absolute;left: 45%;padding: 10px 0;"  *ngIf="result.length === 0">
                No records found!
              </div>
            </ng-container>
          </tbody>
        </table>

      </div>
    </div>

  </div>
  <div class="pagination-container p-0 py-4">
    <!-- Pagination Controls (Center-Aligned) -->
    <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
    </pagination-controls>
  
    <!-- Items Per Page Selector (Right-Aligned) -->
    <div class="items-per-page-container">
      <div>Items per page</div>
      <mat-select [(ngModel)]="tableSize" (selectionChange)="onTableSizeChange($event)" placeholder="10" class="page-size">
        <mat-option *ngFor="let size of tableSizes" [value]="size">{{size}}</mat-option>
      </mat-select>
    </div>
  </div>
</div>


<div class="container-fluid mobileView">
  

  <div class="bg row mx-0 my-1 mx-1 my-2 ">
    <ng-container *ngIf="(yetToApproveAll) as result">
      <div class="col-sm-12 col-md-6 p-0" *ngFor="let item of result|paginate:paginationConfig;">
        <div class="card outer-card">
          <div class="row rc-p">
            <div class="col-7">
              <div class="row">
                <div class="col-12">
                  <h6 class="card-subtitle">Status</h6>
                </div>
              </div>
              <div class="row">
                <div class="col-12 status-text">
                  {{ item.approved_state ? item.approved_state : 'Yet to Approve' |titlecase}}
                </div>
              </div>
            </div>
            <div class="col-5">
              <ng-container *ngFor="let approval of accessConfig">
               
                <span  style="float: right;">
                     
                  <img src="../../../../../assets/images/Delete.svg" class="icon-image" container="body" ngbTooltip="Delete" (click)="open(item)"/>
              </span>
             
              <span  style="float: right;">
                <img src="../../../../../assets/images/Close.svg" class="icon-image"  container="body" ngbTooltip="Reject"  (click)="openDialogue(item.id,'DECLINED')"/>
              </span>
              <span  style="float: right;">
                <img src="../../../../../assets/images/tick.svg" class="icon-image" container="body" ngbTooltip="Approve" (click)="openDialogue(item.id,'APPROVED')"/>
              </span>
              </ng-container>
            </div>
          </div>
          
          <div class="card inner-card">
            <div class="card-body">
              <div class="row">
                <div class="col-6">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-subtitle">Created Date</h6>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12 val-r">
                      {{item['created_datetime'] | date : 'mediumDate'}}
                    </div>
                  </div>
                </div>
                <div class="col-6">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-subtitle">Employee</h6>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12 val-r">
                      {{ item.employee_first_name ?item.employee_first_name :'NA'|titlecase }}
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
              <div class="col-6">
                <div class="row">
                  <div class="col-12">
                    <h6 class="card-subtitle">Time</h6>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12 val-r" *ngIf="item.task_list.length">
                    <div *ngFor="let task of item.task_list; let j = index">
                      <div>
                        {{ task?.hours_to_complete || 'NA' }}
                      </div>
                    </div>
                  </div>
                  <div class="col-12 val-r" *ngIf="item.task_list.length === 0">
                    {{'NA'}}
                  </div>
                </div>
              </div>
             
                <div class="col-6">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-subtitle">Task name</h6>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12 val-r" *ngIf="item.task_list.length">
                      <div *ngFor="let task of item.task_list; let j = index">
                        <div>
                          {{ task?.task_name || 'NA' }} <br/>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 val-r" *ngIf="item.task_list.length === 0">
                      {{'NA'}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="result.length === 0" class="col-12">
        <div class="card">
          <div class="card-body">
            <p>No records found
              !</p>
          </div>
        </div>
      </div>
    </ng-container>
  </div>


  <div class="pagination-container p-0 pt-2" *ngIf="yetToApproveAll.length !== 0">
    <!-- Pagination Controls (Center-Aligned) -->
    <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
    </pagination-controls> 
  </div>
  <!-- Items Per Page Selector (Right-Aligned) -->
  <div class="pagination-container">
    <div class="mx-2">Items per page</div>
    <mat-select [(ngModel)]="tableSize" (change)="onTableSizeChange($event)" placeholder="10" class="page-size">
      <mat-option *ngFor="let size of tableSizes" [value]="size">{{size}}</mat-option>
    </mat-select>
  </div>

</div>