<div class="container-fluid s-padd ">

    <div class="container-middle p-20">
        <div class="row">
            <div class="col-12">
                <div style="background-color: #f9f9f9;padding: 16px;">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-3">
                            <mat-card>
                                <div class="row">
                                    <div class="row">
                                        <div class="col-8">
                                            <h6><b>
                                            <i class="bi bi-list-ul"></i> Approved</b> </h6>
                                        </div>
                                        <div class="col-4 text-end pe-0">
                                            <h4 class="v-align" style="color: green;">{{cardData?.approved_count}}</h4>
                                        </div>
                                    </div>
                                </div>
                            </mat-card>
                            <!--/.col-->

                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-3 ">
                            <mat-card>
                                <div class="row">
                                    <div class="row">
                                        <div class="col-8">
                                            <h6><b>
                                             <i class="bi bi-list-ul"></i> Request</b> </h6>
                                        </div>
                                        <div class="col-4 text-end pe-0">
                                            <h4 class="v-align" style="color: #e6b539;">{{cardData ?.request_count}}
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </mat-card>
                            <!--/.col-->

                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-3 ">
                            <mat-card>
                                <div class="row">
                                    <div class="row">
                                        <div class="col-8">
                                            <h6>
                                                <b><i class="bi bi-list-ul"></i> Declined</b>
                                            </h6>
                                        </div>
                                        <div class="col-4 text-end pe-0">
                                            <h4 class="v-align" style="color: red;">{{cardData ?.declined_count}}</h4>
                                        </div>
                                    </div>

                                </div>
                            </mat-card>



                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-3 ">
                            <mat-card>
                                <div class="row">
                                    <div class="row">
                                        <div class="col">
                                            <h6><b>
                                            <i class="bi bi-list-ul"></i> Total</b> </h6>
                                        </div>
                                        <div class="col-4 text-end pe-0">
                                            <h4 class="v-align" style="color: red;">{{cardData ?.total_count}}</h4>
                                        </div>
                                    </div>
                                </div>
                            </mat-card>
                        </div>
                    </div>
                </div>
                <div class="card dt-card">

                    <form [formGroup]="timeSheetForm">
                        <div class="row">
                            <div class="col-sm-4 col-md-6 col-lg-3">
                                <mat-form-field appearance="outline">
                                    <mat-label>From date</mat-label>
                                    <input matInput [matDatepicker]="fromDatePicker" formControlName="from_date"
                                        (dateChange)="changeFormat()" required>
                                    <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
                                    <mat-datepicker #fromDatePicker></mat-datepicker>
                                    <mat-error *ngIf="f['from_date'].touched && f['from_date'].invalid">
                                        From date is required.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-sm-4 col-md-6 col-lg-3">
                                <mat-form-field appearance="outline" [attr.disabled]="!timeSheetForm.value.from_date">
                                    <mat-label>To date</mat-label>
                                    <input matInput [matDatepicker]="toDatePicker" formControlName="to_date"
                                        [min]="timeSheetForm.value.from_date" (dateChange)="changeFormat()" required>
                                    <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
                                    <mat-datepicker #toDatePicker></mat-datepicker>
                                    <mat-error *ngIf="f['to_date'].touched && f['to_date'].invalid">
                                        To date is required.
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-sm-2 col-md-1 col-lg-1 d-flex align-items-center p-0">
                                <button mat-icon-button type="submit" (click)="submit()" ngbTooltip="Submit">
                                    <i class="bi bi-arrow-up-right-square-fill"></i>
                                </button>
                            </div>
                        </div>
                    </form>

                </div>


                <div class="animated fadeIn">
                    <div class="row">
                        <div class="col-md-12 mb-4">
                            <mat-tab-group (selectedTabChange)="tabState($event)">

                                <!-- Pending Tab -->
                                <mat-tab label="Pending">
                                    <ng-container *ngIf="allDetails[0]?.approved_state === 'YET_TO_APPROVED'">
                                        <app-yet-to-approve [data]="allDetails" [totalCount]="totalCount"
                                            (filter)="searchFiter($event)" (buttonClick)="buttonClick($event)">
                                        </app-yet-to-approve>
                                    </ng-container>
                                    <ng-container *ngIf="allDetails[0]?.approved_state !== 'YET_TO_APPROVED'">
                                        <div class="text-center text-muted no-data py-2">No records found</div>
                                    </ng-container>
                                </mat-tab>

                                <!-- Approved Tab -->
                                <mat-tab label="Approved">
                                    <ng-container *ngIf="allDetails[0]?.approved_state === 'APPROVED'">
                                        <app-approved [data]="allDetails" [totalCount]="totalCount"
                                            (filter)="searchFiter($event)" (buttonClick)="buttonClick($event)">
                                        </app-approved>
                                    </ng-container>
                                    <ng-container *ngIf="allDetails[0]?.approved_state !== 'APPROVED'">
                                        <div class="text-center text-muted no-data py-2">No records found</div>
                                    </ng-container>
                                </mat-tab>

                                <!-- Declined Tab -->
                                <mat-tab label="Declined">
                                    <ng-container *ngIf="allDetails[0]?.approved_state === 'DECLINED'">
                                        <app-decline [data]="allDetails" [totalCount]="totalCount"
                                            (filter)="searchFiter($event)" (buttonClick)="buttonClick($event)">
                                        </app-decline>
                                    </ng-container>
                                    <ng-container *ngIf="allDetails[0]?.approved_state !== 'DECLINED'">
                                        <div class="text-center text-muted no-data py-2">No records found</div>
                                    </ng-container>
                                </mat-tab>

                            </mat-tab-group>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>